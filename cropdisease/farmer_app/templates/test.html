<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farm Registration</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        .step-indicator {
            padding: 20px 0;
        }
        .step-circle {
            width: 40px;
            height: 40px;
            line-height: 40px;
            border-radius: 50%;
            background-color: #f8f9fa;
            border: 2px solid #dee2e6;
            margin: 0 auto 10px;
            font-weight: bold;
        }
        .step.active .step-circle {
            background-color: #198754;
            color: white;
            border-color: #198754;
        }
        .upload-card {
            border: 2px dashed #dee2e6;
            border-radius: 10px;
            transition: all 0.3s;
        }
        .upload-card:hover {
            border-color: #198754;
        }
        .form-section-title {
            color: #198754;
            padding-bottom: 10px;
            border-bottom: 2px solid #e9ecef;
            margin-bottom: 20px;
        }
        .crop-selection-pill {
            border-radius: 20px;
        }
        .farm-detail-icon {
            width: 24px;
            margin-right: 10px;
            color: #198754;
        }
        .farm-detail-label {
            min-width: 140px;
            font-weight: 500;
        }
        .location-map {
            background-color: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #dee2e6;
        }
        .list-group-item {
            transition: all 0.2s;
        }
        .list-group-item:hover {
            background-color: #f8f9fa;
        }
    </style>
</head>
<body>
    <section id="farm-registration-section" class="py-5">
        <div class="container">
            <!-- Top Navigation -->
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Farm Registration</h2>
            </div>

            <div class="farm-registration-container">
                <h2 class="mb-0">Register New Farm</h2>

                <!-- Step indicator -->
                <div class="step-indicator mb-4">
                    <div class="row text-center">
                        <div class="col step active">
                            <div class="step-circle">1</div>
                            <small>Basic Information</small>
                        </div>
                        <div class="col step">
                            <div class="step-circle">2</div>
                            <small>Location Details</small>
                        </div>
                        <div class="col step">
                            <div class="step-circle">3</div>
                            <small>Crop Details</small>
                        </div>
                        <div class="col step">
                            <div class="step-circle">4</div>
                            <small>Review & Submit</small>
                        </div>
                    </div>
                </div>

                <!-- Farm Registration Form -->
                <div class="card upload-card">
                    <div class="card-body p-4">
                        <form id="farmRegistrationForm">
                            <!-- Step 1: Basic Information -->
                            <div class="form-section" id="step1">
                                <h4 class="form-section-title">Basic Farm Information</h4>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="farmName" class="form-label">Farm Name <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="farmName" required placeholder="Enter farm name" />
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="farmType" class="form-label">Farm Type <span class="text-danger">*</span></label>
                                        <input class="form-control" list="farmTypeOptions" id="farmType" placeholder="Select or type farm type" required>
                                        <datalist id="farmTypeOptions">
                                            <option value="Organic Farm">
                                            <option value="Commercial Farm">
                                            <option value="Subsistence Farm">
                                            <option value="Greenhouse">
                                            <option value="Hydroponic Farm">
                                            <option value="Other">
                                        </datalist>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 mb-3">
                                        <label for="farmDescription" class="form-label">Farm Description</label>
                                        <textarea class="form-control" id="farmDescription" rows="3" placeholder="Describe your farm, its history, and any special features"></textarea>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="establishedDate" class="form-label">Established Date</label>
                                        <input type="date" class="form-control" id="establishedDate" />
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="ownershipType" class="form-label">Ownership Type <span class="text-danger">*</span></label>
                                        <input class="form-control" list="ownershipTypeOptions" id="ownershipType" placeholder="Select or type ownership type" required>
                                        <datalist id="ownershipTypeOptions">
                                            <option value="Owned">
                                            <option value="Leased">
                                            <option value="Rented">
                                            <option value="Family Land">
                                            <option value="Cooperative">
                                        </datalist>
                                    </div>
                                </div>
                                <div class="d-flex justify-content-end">
                                    <button type="button" class="btn btn-success next-step" data-next="step2">
                                        Next <i class="bi bi-chevron-right"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- Step 2: Location Details -->
                            <div class="form-section" id="step2" style="display: none">
                                <h4 class="form-section-title">Farm Location Details</h4>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="country" class="form-label">Country <span class="text-danger">*</span></label>
                                        <input class="form-control" list="countryOptions" id="country" placeholder="Select or type country" required>
                                        <datalist id="countryOptions">
                                            <option value="India">
                                            <option value="United States">
                                            <option value="United Kingdom">
                                            <option value="Australia">
                                            <option value="Brazil">
                                            <option value="Nigeria">
                                            <option value="Other">
                                        </datalist>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="state" class="form-label">State/Region <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="state" required placeholder="Enter state or region" />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="city" class="form-label">City/District <span class="text-danger">*</span></label>
                                        <input type="text" class="form-control" id="city" required placeholder="Enter city or district" />
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="zipCode" class="form-label">ZIP/Postal Code</label>
                                        <input type="text" class="form-control" id="zipCode" placeholder="Enter ZIP or postal code" />
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 mb-3">
                                        <label for="address" class="form-label">Full Address <span class="text-danger">*</span></label>
                                        <textarea class="form-control" id="address" rows="2" required placeholder="Enter full address"></textarea>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12 mb-4">
                                        <label class="form-label">Location on Map</label>
                                        <div class="location-map" style="height: 300px">
                                            <div id="map" style="height: 100%; background-color: #e9ecef; display: flex; justify-content: center; align-items: center; color: #6c757d;">
                                                <i class="bi bi-map me-2"></i>Map will be displayed here
                                            </div>
                                        </div>
                                        <div class="mt-2">
                                            <button type="button" class="btn btn-light me-2" id="useCurrentLocation">
                                                <i class="bi bi-geo-alt"></i> Use Current Location
                                            </button>
                                            <input type="hidden" id="latitude" name="latitude" />
                                            <input type="hidden" id="longitude" name="longitude" />
                                            <div id="locationFeedback" class="text-muted mt-2">Location not selected</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="d-flex justify-content-between">
                                    <button type="button" class="btn btn-outline-secondary prev-step" data-prev="step1">
                                        <i class="bi bi-chevron-left"></i> Previous
                                    </button>
                                    <button type="button" class="btn btn-success next-step" data-next="step3">
                                        Next <i class="bi bi-chevron-right"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- Step 3: Crop Details -->
                            <div class="form-section" id="step3" style="display: none">
                                <h4 class="form-section-title">Crop Information</h4>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="primaryCrop" class="form-label">Primary Crop <span class="text-danger">*</span></label>
                                        <input class="form-control" list="primaryCropOptions" id="primaryCrop" placeholder="Select or type primary crop" required>
                                        <datalist id="primaryCropOptions">
                                            <option value="Wheat">
                                            <option value="Rice">
                                            <option value="Corn">
                                            <option value="Soybean">
                                            <option value="Cotton">
                                            <option value="Vegetables">
                                            <option value="Fruits">
                                            <option value="Other">
                                        </datalist>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label class="form-label">Additional Crops</label>
                                        <div class="d-flex flex-wrap">
                                            <button type="button" class="btn btn-outline-secondary crop-selection-pill me-2 mb-2">
                                                <i class="bi bi-plus"></i> Wheat
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary crop-selection-pill me-2 mb-2">
                                                <i class="bi bi-plus"></i> Rice
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary crop-selection-pill me-2 mb-2">
                                                <i class="bi bi-plus"></i> Corn
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary crop-selection-pill me-2 mb-2">
                                                <i class="bi bi-plus"></i> Soybean
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary crop-selection-pill me-2 mb-2">
                                                <i class="bi bi-plus"></i> Vegetables
                                            </button>
                                            <button type="button" class="btn btn-outline-secondary crop-selection-pill me-2 mb-2">
                                                <i class="bi bi-plus"></i> Fruits
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="farmingMethod" class="form-label">Farming Method <span class="text-danger">*</span></label>
                                        <input class="form-control" list="farmingMethodOptions" id="farmingMethod" placeholder="Select or type farming method" required>
                                        <datalist id="farmingMethodOptions">
                                            <option value="Traditional">
                                            <option value="Modern">
                                            <option value="Organic">
                                            <option value="Hydroponic">
                                            <option value="Aquaponic">
                                            <option value="Other">
                                        </datalist>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="irrigationMethod" class="form-label">Irrigation Method</label>
                                        <input class="form-control" list="irrigationMethodOptions" id="irrigationMethod" placeholder="Select or type irrigation method">
                                        <datalist id="irrigationMethodOptions">
                                            <option value="Rainfed">
                                            <option value="Flood Irrigation">
                                            <option value="Sprinkler System">
                                            <option value="Drip Irrigation">
                                            <option value="Other">
                                        </datalist>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <label for="farmSize" class="form-label">Farm Size <span class="text-danger">*</span></label>
                                        <div class="input-group farm-size-input">
                                            <input type="number" class="form-control" id="farmSize" required placeholder="Enter farm size" />
                                            <input class="form-control" list="sizeUnitOptions" id="sizeUnit" value="Acres" required>
                                            <datalist id="sizeUnitOptions">
                                                <option value="Acres">
                                                <option value="Hectares">
                                                <option value="Square Meters">
                                            </datalist>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <label for="soilType" class="form-label">Soil Type</label>
                                        <input class="form-control" list="soilTypeOptions" id="soilType" placeholder="Select or type soil type">
                                        <datalist id="soilTypeOptions">
                                            <option value="Sandy">
                                            <option value="Clay">
                                            <option value="Silt">
                                            <option value="Loam">
                                            <option value="Peat">
                                            <option value="Chalk">
                                            <option value="Other">
                                        </datalist>
                                    </div>
                                </div>
                                <div class="d-flex justify-content-between">
                                    <button type="button" class="btn btn-outline-secondary prev-step" data-prev="step2">
                                        <i class="bi bi-chevron-left"></i> Previous
                                    </button>
                                    <button type="button" class="btn btn-success next-step" data-next="step4">
                                        Next <i class="bi bi-chevron-right"></i>
                                    </button>
                                </div>
                            </div>

                            <!-- Step 4: Review & Submit -->
                            <div class="form-section" id="step4" style="display: none">
                                <h4 class="form-section-title">Review Farm Information</h4>
                                <div class="card mb-4">
                                    <div class="card-body">
                                        <h5 class="card-title">Farm Details</h5>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <p>
                                                    <strong>Farm Name:</strong>
                                                    <span id="review-farmName">-</span>
                                                </p>
                                                <p>
                                                    <strong>Farm Type:</strong>
                                                    <span id="review-farmType">-</span>
                                                </p>
                                                <p>
                                                    <strong>Ownership Type:</strong>
                                                    <span id="review-ownershipType">-</span>
                                                </p>
                                                <p>
                                                    <strong>Established Date:</strong>
                                                    <span id="review-establishedDate">-</span>
                                                </p>
                                            </div>
                                            <div class="col-md-6">
                                                <p>
                                                    <strong>Farm Size:</strong>
                                                    <span id="review-farmSize">-</span>
                                                </p>
                                                <p>
                                                    <strong>Primary Crop:</strong>
                                                    <span id="review-primaryCrop">-</span>
                                                </p>
                                                <p>
                                                    <strong>Farming Method:</strong>
                                                    <span id="review-farmingMethod">-</span>
                                                </p>
                                                <p>
                                                    <strong>Irrigation Method:</strong>
                                                    <span id="review-irrigationMethod">-</span>
                                                </p>
                                            </div>
                                        </div>
                                        <p>
                                            <strong>Description:</strong>
                                            <span id="review-farmDescription">-</span>
                                        </p>
                                    </div>
                                </div>
                                <div class="card mb-4">
                                    <div class="card-body">
                                        <h5 class="card-title">Location Details</h5>
                                        <p>
                                            <strong>Address:</strong>
                                            <span id="review-address">-</span>
                                        </p>
                                        <p>
                                            <strong>City/District:</strong>
                                            <span id="review-city">-</span>,
                                            <span id="review-state">-</span>
                                        </p>
                                        <p>
                                            <strong>Country:</strong>
                                            <span id="review-country">-</span>
                                        </p>
                                        <p>
                                            <strong>ZIP/Postal Code:</strong>
                                            <span id="review-zipCode">-</span>
                                        </p>
                                    </div>
                                </div>
                                <div class="form-check mb-4">
                                    <input class="form-check-input" type="checkbox" id="termsAgreement" required />
                                    <label class="form-check-label" for="termsAgreement">
                                        I confirm that all the information provided is accurate to the best of my knowledge
                                    </label>
                                </div>
                                <div class="d-flex justify-content-between">
                                    <button type="button" class="btn btn-outline-secondary prev-step" data-prev="step3">
                                        <i class="bi bi-chevron-left"></i> Previous
                                    </button>
                                    <button type="submit" class="btn btn-success">
                                        <i class="bi bi-check-circle"></i> Submit Registration
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Recently Registered Farms -->
                <div class="card upload-card mt-4">
                    <div class="card-body p-4">
                        <h5 class="card-title mb-3">
                            <i class="bi bi-house-check me-2"></i> Your Registered Farms
                        </h5>
                        <div class="list-group">
                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                <div>
                                    <div class="d-flex align-items-center mb-1">
                                        <h6 class="mb-0 me-2">River Side Vegetables</h6>
                                        <span class="badge rounded-pill bg-success fw-normal">Active</span>
                                    </div>
                                    <p class="mb-1 text-muted">
                                        <span class="me-3"><i class="bi bi-rulers me-1"></i> 10 Acres</span>
                                        <span class="me-3"><i class="bi bi-flower1 me-1"></i> Vegetables</span>
                                        <span><i class="bi bi-gear me-1"></i> Organic Farming</span>
                                    </p>
                                    <small class="text-muted">Registered: 1 Month ago</small>
                                </div>
                                <div class="d-flex gap-2">
                                    <button type="button" class="btn btn-sm btn-outline-primary" title="View Details" data-bs-toggle="modal" data-bs-target="#farmDetailsModal">
                                        <i class="bi bi-binoculars"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-warning" title="deactivate">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                </div>
                            </a>

                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                <div>
                                    <div class="d-flex align-items-center mb-1">
                                        <h6 class="mb-0 me-2">Green Valley Organic Farm</h6>
                                        <span class="badge rounded-pill bg-success fw-normal">Active</span>
                                    </div>
                                    <p class="mb-1 text-muted">
                                        <span class="me-3"><i class="bi bi-rulers me-1"></i> 25 Acres</span>
                                        <span class="me-3"><i class="bi bi-flower1 me-1"></i> Wheat</span>
                                        <span class="me-3"><i class="bi bi-flower1 me-1"></i> Corn</span>
                                        <span><i class="bi bi-gear me-1"></i> Traditional Farming</span>
                                    </p>
                                    <small class="text-muted">Registered: 3 Months ago</small>
                                </div>
                                <div class="d-flex gap-2">
                                    <button type="button" class="btn btn-sm btn-outline-primary" title="View Details">
                                        <i class="bi bi-binoculars"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-warning" title="deactivate">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                </div>
                            </a>

                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                <div>
                                    <div class="d-flex align-items-center mb-1">
                                        <h6 class="mb-0 me-2">Sunshine Orchard</h6>
                                        <span class="badge rounded-pill bg-secondary fw-normal">Inactive</span>
                                    </div>
                                    <p class="mb-1 text-muted">
                                        <span class="me-3"><i class="bi bi-rulers me-1"></i> 5 Acres</span>
                                        <span class="me-3"><i class="bi bi-box-seam me-1"></i> Fruits</span>
                                        <span><i class="bi bi-gear me-1"></i> Modern Farming</span>
                                    </p>
                                    <small class="text-muted">Registered: 2 years ago</small>
                                </div>
                                <div class="d-flex gap-2">
                                    <button type="button" class="btn btn-sm btn-outline-primary" title="View Details">
                                        <i class="bi bi-binoculars"></i>
                                    </button>
                                    <button type="button" class="btn btn-sm btn-warning" title="Deactivate Farm" data-bs-toggle="modal" data-bs-target="#deactivateFarmModal" data-farm-name="Sunshine Orchard">
                                        <i class="bi bi-trash"></i>
                                    </button>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Deactivate Farm Modal -->
                <div class="modal fade" id="deactivateFarmModal" tabindex="-1" aria-labelledby="deactivateFarmModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header bg-light">
                                <h5 class="modal-title" id="deactivateFarmModalLabel">
                                    <i class="bi bi-exclamation-triangle-fill me-2"></i>
                                    Confirm Deactivation
                                </h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <p>Are you sure you want to deactivate the farm "<strong id="farmNameToDeactivate"></strong>"?</p>
                                <div class="alert alert-warning" role="alert">
                                    <i class="bi bi-info-circle me-2"></i>
                                    This action will mark the farm as inactive, but it will not be permanently deleted.
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                <form id="deactivateForm" method="POST" style="display: inline;">
                                    <input type="hidden" name="farm_id" id="farmIdToDeactivate" value="">
                                    <button type="submit" class="btn btn-warning">
                                        <i class="bi bi-trash me-1"></i>
                                        Deactivate Farm
                                    </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Farm Details Modal -->
                <div class="modal fade" id="farmDetailsModal" tabindex="-1" aria-labelledby="farmDetailsModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header bg-light">
                                <h5 class="modal-title" id="farmDetailsModalLabel">
                                    <i class="bi bi-info-circle me-2"></i>
                                    Farm Details
                                </h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div id="farmDetailsContent">
                                    <div class="row mb-4">
                                        <div class="col-md-8">
                                            <h4 id="modalFarmName" class="text-success mb-1">River Side Vegetables</h4>
                                            <div class="d-flex align-items-center mb-3">
                                                <span id="modalFarmStatus" class="badge bg-success me-2">Active</span>
                                                <small class="text-muted" id="modalRegistrationDate">Registered: 1 Month ago</small>
                                            </div>
                                        </div>
                                        <div class="col-md-4 text-md-end">
                                            <div class="h5 mb-0" id="modalFarmSize">10 Acres</div>
                                            <small class="text-muted">Total Area</small>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <h6 class="border-bottom pb-2 mb-3">Basic Information</h6>
                                            <div class="d-flex mb-2">
                                                <span class="farm-detail-icon"><i class="bi bi-house"></i></span>
                                                <span class="farm-detail-label">Farm Type:</span>
                                                <span id="modalFarmType">Organic Farm</span>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <span class="farm-detail-icon"><i class="bi bi-calendar"></i></span>
                                                <span class="farm-detail-label">Established:</span>
                                                <span id="modalEstablishedDate">January 2018</span>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <span class="farm-detail-icon"><i class="bi bi-person-badge"></i></span>
                                                <span class="farm-detail-label">Ownership:</span>
                                                <span id="modalOwnershipType">Owned</span>
                                            </div>
                                            <div class="d-flex mb-3">
                                                <span class="farm-detail-icon"><i class="bi bi-gear"></i></span>
                                                <span class="farm-detail-label">Farming Method:</span>
                                                <span id="modalFarmingMethod">Organic</span>
                                            </div>

                                            <h6 class="border-bottom pb-2 mb-3 mt-4">Crop Details</h6>
                                            <div class="d-flex mb-2">
                                                <span class="farm-detail-icon"><i class="bi bi-flower1"></i></span>
                                                <span class="farm-detail-label">Primary Crop:</span>
                                                <span id="modalPrimaryCrop">Vegetables</span>
                                            </div>
                                            <div class="mb-3">
                                                <span class="farm-detail-icon"><i class="bi bi-plus-circle"></i></span>
                                                <span class="farm-detail-label">Additional Crops:</span>
                                                <div id="modalAdditionalCrops" class="mt-1">
                                                    <span class="badge bg-light text-dark me-1 mb-1">Tomatoes</span>
                                                    <span class="badge bg-light text-dark me-1 mb-1">Lettuce</span>
                                                    <span class="badge bg-light text-dark me-1 mb-1">Carrots</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <h6 class="border-bottom pb-2 mb-3">Location Details</h6>
                                            <div class="d-flex mb-2">
                                                <span class="farm-detail-icon"><i class="bi bi-geo-alt"></i></span>
                                                <span class="farm-detail-label">Address:</span>
                                                <span id="modalAddress">123 Farm Road, Countryside</span>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <span class="farm-detail-icon"><i class="bi bi-building"></i></span>
                                                <span class="farm-detail-label">City:</span>
                                                <span id="modalCity">Green Valley</span>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <span class="farm-detail-icon"><i class="bi bi-map"></i></span>
                                                <span class="farm-detail-label">State:</span>
                                                <span id="modalState">California</span>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <span class="farm-detail-icon"><i class="bi bi-globe"></i></span>
                                                <span class="farm-detail-label">Country:</span>
                                                <span id="modalCountry">United States</span>
                                            </div>
                                            <div class="d-flex mb-3">
                                                <span class="farm-detail-icon"><i class="bi bi-postcard"></i></span>
                                                <span class="farm-detail-label">ZIP Code:</span>
                                                <span id="modalZipCode">12345</span>
                                            </div>

                                            <h6 class="border-bottom pb-2 mb-3 mt-4">Additional Information</h6>
                                            <div class="d-flex mb-2">
                                                <span class="farm-detail-icon"><i class="bi bi-droplet"></i></span>
                                                <span class="farm-detail-label">Irrigation:</span>
                                                <span id="modalIrrigationMethod">Drip Irrigation</span>
                                            </div>
                                            <div class="d-flex mb-3">
                                                <span class="farm-detail-icon"><i class="bi bi-cloud-rain"></i></span>
                                                <span class="farm-detail-label">Soil Type:</span>
                                                <span id="modalSoilType">Loam</span>
                                            </div>

                                            <div class="mt-3">
                                                <span class="farm-detail-label">Description:</span>
                                                <p id="modalDescription" class="mt-1 p-2 bg-light rounded">This is a beautiful farm specializing in organic vegetables, using sustainable farming practices.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                <button type="button" class="btn btn-light">
                                    <i class="bi bi-pencil me-1"></i> Edit Details
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Form navigation
            const formSections = document.querySelectorAll('.form-section');
            const steps = document.querySelectorAll('.step');
            
            // Show first step by default
            showStep('step1');
            
            // Next step buttons
            document.querySelectorAll('.next-step').forEach(button => {
                button.addEventListener('click', function() {
                    const currentSection = this.closest('.form-section');
                    const nextStepId = this.getAttribute('data-next');
                    
                    // Validate current step before proceeding
                    if (validateStep(currentSection.id)) {
                        hideAllSteps();
                        showStep(nextStepId);
                        updateStepIndicator(nextStepId);
                        
                        // If moving to review step, update review content
                        if (nextStepId === 'step4') {
                            updateReviewContent();
                        }
                    }
                });
            });
            
            // Previous step buttons
            document.querySelectorAll('.prev-step').forEach(button => {
                button.addEventListener('click', function() {
                    const prevStepId = this.getAttribute('data-prev');
                    hideAllSteps();
                    showStep(prevStepId);
                    updateStepIndicator(prevStepId);
                });
            });
            
            // Form submission
            document.getElementById('farmRegistrationForm').addEventListener('submit', function(e) {
                e.preventDefault();
                alert('Farm registration submitted successfully!');
                // Here you would typically send the data to your server
            });
            
            // Deactivate farm modal
            const deactivateModal = document.getElementById('deactivateFarmModal');
            if (deactivateModal) {
                deactivateModal.addEventListener('show.bs.modal', function(event) {
                    const button = event.relatedTarget;
                    const farmName = button.getAttribute('data-farm-name');
                    const modalTitle = deactivateModal.querySelector('#farmNameToDeactivate');
                    modalTitle.textContent = farmName;
                });
            }
            
            // Use current location button
            document.getElementById('useCurrentLocation').addEventListener('click', function() {
                document.getElementById('locationFeedback').textContent = 'Location access requested...';
                
                // Simulate getting location (in a real app, you would use the Geolocation API)
                setTimeout(function() {
                    document.getElementById('locationFeedback').textContent = 'Location set to current position';
                    document.getElementById('latitude').value = '37.7749';
                    document.getElementById('longitude').value = '-122.4194';
                }, 1500);
            });
            
            // Crop selection buttons
            document.querySelectorAll('.crop-selection-pill').forEach(button => {
                button.addEventListener('click', function() {
                    this.classList.toggle('btn-outline-secondary');
                    this.classList.toggle('btn-success');
                });
            });
            
            // Helper functions
            function hideAllSteps() {
                formSections.forEach(section => {
                    section.style.display = 'none';
                });
            }
            
            function showStep(stepId) {
                document.getElementById(stepId).style.display = 'block';
            }
            
            function updateStepIndicator(stepId) {
                const stepNumber = stepId.replace('step', '');
                steps.forEach((step, index) => {
                    if (index < stepNumber - 1) {
                        step.classList.add('completed');
                        step.classList.remove('active');
                    } else if (index === stepNumber - 1) {
                        step.classList.add('active');
                        step.classList.remove('completed');
                    } else {
                        step.classList.remove('active', 'completed');
                    }
                });
            }
            
            function validateStep(stepId) {
                const inputs = document.querySelectorAll(`#${stepId} [required]`);
                let isValid = true;
                
                inputs.forEach(input => {
                    if (!input.value.trim()) {
                        isValid = false;
                        input.classList.add('is-invalid');
                    } else {
                        input.classList.remove('is-invalid');
                    }
                });
                
                return isValid;
            }
            
            function updateReviewContent() {
                // Update review content with form values
                document.getElementById('review-farmName').textContent = document.getElementById('farmName').value || '-';
                document.getElementById('review-farmType').textContent = document.getElementById('farmType').value || '-';
                document.getElementById('review-ownershipType').textContent = document.getElementById('ownershipType').value || '-';
                document.getElementById('review-establishedDate').textContent = document.getElementById('establishedDate').value || '-';
                document.getElementById('review-farmSize').textContent = 
                    (document.getElementById('farmSize').value ? document.getElementById('farmSize').value + ' ' + document.getElementById('sizeUnit').value : '-');
                document.getElementById('review-primaryCrop').textContent = document.getElementById('primaryCrop').value || '-';
                document.getElementById('review-farmingMethod').textContent = document.getElementById('farmingMethod').value || '-';
                document.getElementById('review-irrigationMethod').textContent = document.getElementById('irrigationMethod').value || '-';
                document.getElementById('review-farmDescription').textContent = document.getElementById('farmDescription').value || '-';
                document.getElementById('review-address').textContent = document.getElementById('address').value || '-';
                document.getElementById('review-city').textContent = document.getElementById('city').value || '-';
                document.getElementById('review-state').textContent = document.getElementById('state').value || '-';
                document.getElementById('review-country').textContent = document.getElementById('country').value || '-';
                document.getElementById('review-zipCode').textContent = document.getElementById('zipCode').value || '-';
            }
        });
    </script>
</body>
</html>